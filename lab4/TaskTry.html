<!-- CSE 5542 Lab4 Task2-4 -->
<!-- Jiaxin Yang.5039@osu.edu -->

<!DOCTYPE html>
<html>
  <head>
    <title>Lab_4-3</title>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>
    <style></style>
  </head>

  <body>
    <svg id="bar" width="1000" height="2000"></svg>

    <script type="text/javascript">
      // TASK 3 - D3 Bar Chart
      // get the data
      d3.csv("mon_stat_gen.csv", BarChart);

function BarChart(error, data) {
// X axis
var x = d3.scaleBand()
  .range([ 100, 700 ])
  .domain(data.map(function(d) { return d.MONTH; }))
  .padding(0.4);
  
  d3.select("#bar").append("g")
  .attr("transform", "translate(0, 500)")
  .call(d3.axisBottom(x).tickSize(14))
  .selectAll("text")
  .attr("transform", "translate(3, 0)")
    .style("text-anchor", "end");

// Add Y axis
var y = d3.scaleLinear()
  .domain([0, 42000000])
  .range([500, 80]);

  d3.select("#bar").append("g")
  .call(d3.axisLeft(y).tickSize(10))
  .attr("transform", "translate(100,0)");


// Bars
d3.select("#bar").selectAll("mybar")
  .data(data)
  .enter()
  .append("rect")
    .attr("x", function(d) { return x(d.MONTH); })
    .attr("y", function(d) { return y(d.GENERATION); })
    .attr("width", x.bandwidth())
    .attr("height", function(d) { return 600 - y(d.GENERATION); })
    .attr("fill", 'steelblue')
    .attr("transform", "translate(0,50)scaleY(1)");

}

    </script>
  </body>
</html>
